class ToggleForms extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      name: '',
      email: '',
      password: '',
      addressLine1: '',
      addressLine2: '',
      addressCity: '',
      addressState: '',
      addressZipCode: '',
      creditCardNo: '',
      expiryDate: '',
      CVV: '',
      billingZipCode: ''
    };
    this.handleSubmit = this.handleSubmit.bind(this);
    this.handleInput = this.handleInput.bind(this);
  }

  handleSubmit(event) {
    event.preventDefault();
    let s = this.state;
    let info = {};

    switch (this.props.checkoutStatus) {
      case 'F1':
        {
          info = {
            name: s.name,
            password: s.password,
            email: s.email
          };
          break;
        }

      case 'F2':
        {
          info = {
            addressLine1: s.addressLine1,
            addressLine2: s.addressLine2,
            addressCity: s.addressCity,
            addressState: s.addressState,
            addressZipCode: s.addressZipCode
          };
          break;
        }

      case 'F3':
        {
          info = {
            creditCardNo: s.creditCardNo,
            expiryDate: s.expiryDate,
            CVV: s.CVV,
            billingZipCode: s.billingZipCode
          };
          break;
        }
    }

    console.log(info);
    this.props.submit(info);
    this.props.nextStep(this.props.checkoutStatus);
  }

  handleInput(event) {
    this.setState({
      [event.target.name]: event.target.value
    });
  }

  render() {
    let text = '';
    let s = this.state;
    let showOrHideAll = 'hideMe';
    let showOrHideDetails = 'hideMe';
    let [box1, box2, box3, box4, box5] = ['', '', '', '', ''];
    let [formBox4Class, formBox5Class] = ["hideMe formBox4", "hideMe formBox5"];

    switch (this.props.checkoutStatus) {
      case 'F1':
        {
          text = 'Please enter your login details:';
          [box1, box2, box3, box4, box5] = ['name', 'email', 'password', null, null];
          showOrHideAll = 'showMe';
          break;
        }

      case 'F2':
        {
          text = 'Please enter your shipping details:';
          [box1, box2, box3, box4, box5] = ['addressLine1', 'addressLine2', 'addressCity', 'addressState', 'addressZipCode'];
          [formBox4Class, formBox5Class] = ["showMe formBox4", "showMe formBox5"];
          showOrHideAll = 'showMe';
          break;
        }

      case 'F3':
        {
          text = 'Please enter your credit card details:';
          [box1, box2, box3, box4, box5] = ['creditCardNo', 'expiryDate', 'CVV', 'billingZipCode', null];
          [formBox4Class, formBox5Class] = ["showMe formBox4", "hideMe formBox5"];
          showOrHideAll = 'showMe';
          break;
        }

      case 'F4':
        {
          text = 'Please confirm your purchase details:';
          showOrHideAll = 'hideMe';
          showOrHideDetails = 'showMe';
          break;
        }

      case 'F0':
      default:
        {
          text = 'Welcome to self-checkout! Please finalize your purchase for today.';
          [box1, box2, box3, box4, box5] = ['', '', '', '', ''];
          break;
        }
    }

    return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("form", {
      onSubmit: this.handleSubmit
    }, text, /*#__PURE__*/React.createElement("div", {
      className: showOrHideAll
    }, /*#__PURE__*/React.createElement("span", {
      className: "formBox1"
    }, box1, /*#__PURE__*/React.createElement("input", {
      name: box1,
      value: this.state[box1],
      onChange: this.handleInput
    })), /*#__PURE__*/React.createElement("span", {
      className: "formBox2"
    }, box2, /*#__PURE__*/React.createElement("input", {
      name: box2,
      value: this.state[box2],
      onChange: this.handleInput
    })), /*#__PURE__*/React.createElement("span", {
      className: "formBox3"
    }, box3, /*#__PURE__*/React.createElement("input", {
      name: box3,
      value: this.state[box3],
      onChange: this.handleInput
    }))), /*#__PURE__*/React.createElement("span", {
      className: formBox4Class
    }, box4, /*#__PURE__*/React.createElement("input", {
      name: box4,
      value: this.state[box4],
      onChange: this.handleInput
    })), /*#__PURE__*/React.createElement("span", {
      className: formBox5Class
    }, box5, /*#__PURE__*/React.createElement("input", {
      name: box5,
      value: this.state[box5],
      onChange: this.handleInput
    })), /*#__PURE__*/React.createElement("span", {
      className: showOrHideDetails
    }, /*#__PURE__*/React.createElement("ul", null, /*#__PURE__*/React.createElement("li", null, s.name), /*#__PURE__*/React.createElement("li", null, s.email), /*#__PURE__*/React.createElement("li", null, s.addressLine1, " ", s.addressLine2, ", ", s.addressCity, ", ", s.addressState, ", ", s.addressZipCode), /*#__PURE__*/React.createElement("li", null, s.creditCardNo, ", ", s.expiryDate, ", ", s.CVV, ", ", s.billingZipCode, " "))), /*#__PURE__*/React.createElement("button", {
      className: "next",
      name: this.props.checkoutStatus
    }, "Next Step")));
  }

}

class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      checkoutStatus: ''
    };
    this.nextButton = this.nextButton.bind(this);
    this.handleSubmission = this.handleSubmission.bind(this);
  }

  componentDidMount() {
    this.setState({
      checkoutStatus: 'F0'
    });
  }

  retrieveUsers() {}

  nextButton(status) {
    let newStatus = 'F' + (parseInt(status.slice(1)) + 1);

    if (newStatus === 'F5') {
      newStatus = 'F0';
    }

    console.log('newStatus', newStatus);
    this.setState({
      checkoutStatus: newStatus
    });
  }

  handleSubmission(submission) {
    console.log('received items on submission', submission);
  }

  render() {
    return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement(ToggleForms, {
      checkoutStatus: this.state.checkoutStatus,
      submit: this.handleSubmission,
      nextStep: this.nextButton
    }));
  }

}

ReactDOM.render( /*#__PURE__*/React.createElement(App, null), document.getElementById('app'));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2NsaWVudC9hcHAuanN4Il0sIm5hbWVzIjpbIlRvZ2dsZUZvcm1zIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3RhdGUiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImFkZHJlc3NMaW5lMSIsImFkZHJlc3NMaW5lMiIsImFkZHJlc3NDaXR5IiwiYWRkcmVzc1N0YXRlIiwiYWRkcmVzc1ppcENvZGUiLCJjcmVkaXRDYXJkTm8iLCJleHBpcnlEYXRlIiwiQ1ZWIiwiYmlsbGluZ1ppcENvZGUiLCJoYW5kbGVTdWJtaXQiLCJiaW5kIiwiaGFuZGxlSW5wdXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwicyIsImluZm8iLCJjaGVja291dFN0YXR1cyIsImNvbnNvbGUiLCJsb2ciLCJzdWJtaXQiLCJuZXh0U3RlcCIsInNldFN0YXRlIiwidGFyZ2V0IiwidmFsdWUiLCJyZW5kZXIiLCJ0ZXh0Iiwic2hvd09ySGlkZUFsbCIsInNob3dPckhpZGVEZXRhaWxzIiwiYm94MSIsImJveDIiLCJib3gzIiwiYm94NCIsImJveDUiLCJmb3JtQm94NENsYXNzIiwiZm9ybUJveDVDbGFzcyIsIkFwcCIsIm5leHRCdXR0b24iLCJoYW5kbGVTdWJtaXNzaW9uIiwiY29tcG9uZW50RGlkTW91bnQiLCJyZXRyaWV2ZVVzZXJzIiwic3RhdHVzIiwibmV3U3RhdHVzIiwicGFyc2VJbnQiLCJzbGljZSIsInN1Ym1pc3Npb24iLCJSZWFjdERPTSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFdBQU4sU0FBMEJDLEtBQUssQ0FBQ0MsU0FBaEMsQ0FBMEM7QUFDeENDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWM7QUFDWkMsTUFBQUEsSUFBSSxFQUFFLEVBRE07QUFFWkMsTUFBQUEsS0FBSyxFQUFFLEVBRks7QUFHWkMs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S0Q7QUFBdEcsTUFERixDQURGO0FBS0Q7O0FBMUMrQjs7QUE2Q2xDUyxRQUFRLENBQUNyQixNQUFULGVBQWdCLG9CQUFDLEdBQUQsT0FBaEIsRUFBeUJzQixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsS0FBeEIsQ0FBekIiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBUb2dnbGVGb3JtcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHRoaXMuc3RhdGUgPSAoe1xyXG4gICAgICBuYW1lOiAnJyxcclxuICAgICAgZW1haWw6ICcnLFxyXG4gICAgICBwYXNzd29yZDogJycsXHJcbiAgICAgIGFkZHJlc3NMaW5lMTogJycsXHJcbiAgICAgIGFkZHJlc3NMaW5lMjogJycsXHJcbiAgICAgIGFkZHJlc3NDaXR5OiAnJyxcclxuICAgICAgYWRkcmVzc1N0YXRlOiAnJyxcclxuICAgICAgYWRkcmVzc1ppcENvZGU6ICcnLFxyXG4gICAgICBjcmVkaXRDYXJkTm86ICcnLFxyXG4gICAgICBleHBpcnlEYXRlOiAnJyxcclxuICAgICAgQ1ZWOiAnJyxcclxuICAgICAgYmlsbGluZ1ppcENvZGU6ICcnLFxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZUlucHV0ID0gdGhpcy5oYW5kbGVJbnB1dC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU3VibWl0KGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbGV0IHMgPSB0aGlzLnN0YXRlO1xyXG4gICAgbGV0IGluZm8gPSB7fTtcclxuICAgIHN3aXRjaCAodGhpcy5wcm9wcy5jaGVja291dFN0YXR1cykge1xyXG4gICAgICBjYXNlICdGMSc6IHtcclxuICAgICAgICBpbmZvID0geyBuYW1lOiBzLm5hbWUsIHBhc3N3b3JkOiBzLnBhc3N3b3JkLCBlbWFpbDogcy5lbWFpbCB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSAnRjInOiB7XHJcbiAgICAgICAgaW5mbyA9IHsgYWRkcmVzc0xpbmUxOiBzLmFkZHJlc3NMaW5lMSwgYWRkcmVzc0xpbmUyOiBzLmFkZHJlc3NMaW5lMiwgYWRkcmVzc0NpdHk6IHMuYWRkcmVzc0NpdHksIGFkZHJlc3NTdGF0ZTogcy5hZGRyZXNzU3RhdGUsIGFkZHJlc3NaaXBDb2RlOiBzLmFkZHJlc3NaaXBDb2RlIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlICdGMyc6IHtcclxuICAgICAgICBpbmZvID0geyBjcmVkaXRDYXJkTm86IHMuY3JlZGl0Q2FyZE5vLCBleHBpcnlEYXRlOiBzLmV4cGlyeURhdGUsIENWVjogcy5DVlYsIGJpbGxpbmdaaXBDb2RlOiBzLmJpbGxpbmdaaXBDb2RlIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coaW5mbyk7XHJcbiAgICB0aGlzLnByb3BzLnN1Ym1pdChpbmZvKTtcclxuICAgIHRoaXMucHJvcHMubmV4dFN0ZXAodGhpcy5wcm9wcy5jaGVja291dFN0YXR1cyk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVJbnB1dChldmVudCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIFtldmVudC50YXJnZXQubmFtZV06IGV2ZW50LnRhcmdldC52YWx1ZVxyXG4gICAgfSlcclxuXHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBsZXQgdGV4dCA9ICcnO1xyXG4gICAgbGV0IHMgPSB0aGlzLnN0YXRlO1xyXG4gICAgbGV0IHNob3dPckhpZGVBbGwgPSAnaGlkZU1lJztcclxuICAgIGxldCBzaG93T3JIaWRlRGV0YWlscyA9ICdoaWRlTWUnO1xyXG4gICAgbGV0IFtib3gxLCBib3gyLCBib3gzLCBib3g0LCBib3g1XSA9IFsnJywgJycsICcnLCAnJywgJyddXHJcbiAgICBsZXQgW2Zvcm1Cb3g0Q2xhc3MsIGZvcm1Cb3g1Q2xhc3NdID0gW1wiaGlkZU1lIGZvcm1Cb3g0XCIsIFwiaGlkZU1lIGZvcm1Cb3g1XCJdO1xyXG4gICAgc3dpdGNoICh0aGlzLnByb3BzLmNoZWNrb3V0U3RhdHVzKSB7XHJcbiAgICAgIGNhc2UgJ0YxJzoge1xyXG4gICAgICAgIHRleHQgPSAnUGxlYXNlIGVudGVyIHlvdXIgbG9naW4gZGV0YWlsczonO1xyXG4gICAgICAgIFtib3gxLCBib3gyLCBib3gzLCBib3g0LCBib3g1XSA9IFsnbmFtZScsICdlbWFpbCcsICdwYXNzd29yZCcsIG51bGwsIG51bGxdO1xyXG4gICAgICAgIHNob3dPckhpZGVBbGwgPSAnc2hvd01lJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlICdGMic6IHtcclxuICAgICAgICB0ZXh0ID0gJ1BsZWFzZSBlbnRlciB5b3VyIHNoaXBwaW5nIGRldGFpbHM6JztcclxuICAgICAgICBbYm94MSwgYm94MiwgYm94MywgYm94NCwgYm94NV0gPSBbJ2FkZHJlc3NMaW5lMScsICdhZGRyZXNzTGluZTInLCAnYWRkcmVzc0NpdHknLCAnYWRkcmVzc1N0YXRlJywgJ2FkZHJlc3NaaXBDb2RlJ107XHJcbiAgICAgICAgW2Zvcm1Cb3g0Q2xhc3MsIGZvcm1Cb3g1Q2xhc3NdID0gW1wic2hvd01lIGZvcm1Cb3g0XCIsIFwic2hvd01lIGZvcm1Cb3g1XCJdO1xyXG4gICAgICAgIHNob3dPckhpZGVBbGwgPSAnc2hvd01lJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlICdGMyc6IHtcclxuICAgICAgICB0ZXh0ID0gJ1BsZWFzZSBlbnRlciB5b3VyIGNyZWRpdCBjYXJkIGRldGFpbHM6JztcclxuICAgICAgICBbYm94MSwgYm94MiwgYm94MywgYm94NCwgYm94NV0gPSBbJ2NyZWRpdENhcmRObycsICdleHBpcnlEYXRlJywgJ0NWVicsICdiaWxsaW5nWmlwQ29kZScsIG51bGxdO1xyXG4gICAgICAgIFtmb3JtQm94NENsYXNzLCBmb3JtQm94NUNsYXNzXSA9IFtcInNob3dNZSBmb3JtQm94NFwiLCBcImhpZGVNZSBmb3JtQm94NVwiXTtcclxuICAgICAgICBzaG93T3JIaWRlQWxsID0gJ3Nob3dNZSc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSAnRjQnOiB7XHJcbiAgICAgICAgdGV4dCA9ICdQbGVhc2UgY29uZmlybSB5b3VyIHB1cmNoYXNlIGRldGFpbHM6JztcclxuICAgICAgICBzaG93T3JIaWRlQWxsID0gJ2hpZGVNZSc7XHJcbiAgICAgICAgc2hvd09ySGlkZURldGFpbHMgPSAnc2hvd01lJ1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgJ0YwJzpcclxuICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgIHRleHQgPSAnV2VsY29tZSB0byBzZWxmLWNoZWNrb3V0ISBQbGVhc2UgZmluYWxpemUgeW91ciBwdXJjaGFzZSBmb3IgdG9kYXkuJztcclxuICAgICAgICBbYm94MSwgYm94MiwgYm94MywgYm94NCwgYm94NV0gPSBbJycsICcnLCAnJywgJycsICcnXTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT57dGV4dH1cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzaG93T3JIaWRlQWxsfT5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcImZvcm1Cb3gxXCJ9Pntib3gxfVxyXG4gICAgICAgICAgICAgIDxpbnB1dCBuYW1lPXtib3gxfSB2YWx1ZT17dGhpcy5zdGF0ZVtib3gxXX0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXR9PjwvaW5wdXQ+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9ybUJveDJcIj57Ym94Mn1cclxuICAgICAgICAgICAgICA8aW5wdXQgbmFtZT17Ym94Mn0gdmFsdWU9e3RoaXMuc3RhdGVbYm94Ml19IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUlucHV0fT48L2lucHV0PlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvcm1Cb3gzXCI+e2JveDN9XHJcbiAgICAgICAgICAgICAgPGlucHV0IG5hbWU9e2JveDN9IHZhbHVlPXt0aGlzLnN0YXRlW2JveDNdfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbnB1dH0+PC9pbnB1dD5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Zvcm1Cb3g0Q2xhc3N9Pntib3g0fVxyXG4gICAgICAgICAgICA8aW5wdXQgbmFtZT17Ym94NH0gdmFsdWU9e3RoaXMuc3RhdGVbYm94NF19IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUlucHV0fT48L2lucHV0PlxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtmb3JtQm94NUNsYXNzfT57Ym94NX1cclxuICAgICAgICAgICAgPGlucHV0IG5hbWU9e2JveDV9IHZhbHVlPXt0aGlzLnN0YXRlW2JveDVdfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbnB1dH0+PC9pbnB1dD5cclxuICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c2hvd09ySGlkZURldGFpbHN9PlxyXG4gICAgICAgICAgICA8dWw+XHJcbiAgICAgICAgICAgICAgPGxpPntzLm5hbWV9PC9saT5cclxuICAgICAgICAgICAgICA8bGk+e3MuZW1haWx9PC9saT5cclxuICAgICAgICAgICAgICA8bGk+e3MuYWRkcmVzc0xpbmUxfSB7cy5hZGRyZXNzTGluZTJ9LCB7cy5hZGRyZXNzQ2l0eX0sIHtzLmFkZHJlc3NTdGF0ZX0sIHtzLmFkZHJlc3NaaXBDb2RlfTwvbGk+XHJcbiAgICAgICAgICAgICAgPGxpPntzLmNyZWRpdENhcmROb30sIHtzLmV4cGlyeURhdGV9LCB7cy5DVlZ9LCB7cy5iaWxsaW5nWmlwQ29kZX0gPC9saT5cclxuICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwibmV4dFwiIG5hbWU9e3RoaXMucHJvcHMuY2hlY2tvdXRTdGF0dXN9Pk5leHQgU3RlcDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLnN0YXRlID0gKHtcclxuICAgICAgY2hlY2tvdXRTdGF0dXM6ICcnLFxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLm5leHRCdXR0b24gPSB0aGlzLm5leHRCdXR0b24uYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaGFuZGxlU3VibWlzc2lvbiA9IHRoaXMuaGFuZGxlU3VibWlzc2lvbi5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgY2hlY2tvdXRTdGF0dXM6ICdGMCdcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZXRyaWV2ZVVzZXJzKCkge1xyXG5cclxuICB9XHJcblxyXG4gIG5leHRCdXR0b24oc3RhdHVzKSB7XHJcbiAgICBsZXQgbmV3U3RhdHVzID0gJ0YnICsgKHBhcnNlSW50KHN0YXR1cy5zbGljZSgxKSkgKyAxKTtcclxuICAgIGlmIChuZXdTdGF0dXMgPT09ICdGNScpIHtcclxuICAgICAgbmV3U3RhdHVzID0gJ0YwJztcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCduZXdTdGF0dXMnLCBuZXdTdGF0dXMpO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGNoZWNrb3V0U3RhdHVzOiBuZXdTdGF0dXMsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlU3VibWlzc2lvbihzdWJtaXNzaW9uKSB7XHJcbiAgICBjb25zb2xlLmxvZygncmVjZWl2ZWQgaXRlbXMgb24gc3VibWlzc2lvbicsIHN1Ym1pc3Npb24pXHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxUb2dnbGVGb3JtcyBjaGVja291dFN0YXR1cz17dGhpcy5zdGF0ZS5jaGVja291dFN0YXR1c30gc3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pc3Npb259IG5leHRTdGVwPXt0aGlzLm5leHRCdXR0b259IC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuUmVhY3RET00ucmVuZGVyKDxBcHAgLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKSlcclxuXHJcblxyXG4iXX0=